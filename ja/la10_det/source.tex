\documentclass[a4paper]{ltjsarticle}
\usepackage{amsmath, amssymb}
\usepackage{fp, tikz, luacode}
\usepackage[box,completemulti,lang=JA,noshuffle]{automultiplechoice}
\newcommand*{\var}[1]{\luaexec{tex.print(#1)}}
\DeclareMathOperator{\sgn}{sgn}
\begin{document}
\AMCboxDimensions{shape=oval,width=1.8ex,height=2.5ex}
\AMCcodeVspace=0em
\luaexec{math.randomseed(2019627)} % \onecopy{} の外に配置

%\begin{luacode*}
%function execMaxima(command)
%  local maxima_command="echo 'tex1("..command..");' | maxima --very-quiet "
%  local handle=io.popen(maxima_command, "r")
%  local content=string.gsub(handle:read("*all"), "\n", "")
%  handle:close()
%  return content
%end
%function execSage(command)
%  local sage_command="sage -c 'print(latex("..command.."))'"
%  local handle=io.popen(sage_command, "r")
%  local content=string.gsub(handle:read("*all"), "\n", "")
%  handle:close()
%  return content
%end
%\end{luacode*}
%
\input{det}

\onecopy{2}{
%%% ヘッダー開始: %%%   
\noindent{\textbf{線形代数 演習10 \hfill 2019年6月27日}}

\vspace{3ex}

{\small
  \setlength{\parindent}{0pt}\hspace*{\fill}\AMCcodeGridInt{学生番号}{8}\hspace*{\fill}
\begin{minipage}[b]{6.5cm}
$\longleftarrow{}$\hspace{0ptplus1cm}
学生番号を左にマークし，下に氏名を記入してください．
%NU-AppsGのメールアドレス（brxxyyzzz)
%xxは名前から，yyは入学年度，zzzは学生番号下3桁です．@以降は必要ありません．

\vspace{3ex}

\hfill\namefield{
  \fbox{
    \begin{minipage}{.9\linewidth}
      氏名\vspace*{.5cm}%\dotfill\vspace*{.5cm}\dotfill
      \vspace*{1mm}
    \end{minipage}
  }
}
\hfill\vspace{5ex}
\end{minipage}
\hspace*{\fill}
}
% \multiSymbole{}の記号のある設問の正解は1個とは限りません。 0個の場合や複数の場合があります。

% 解答欄上部の「誤部正」は採点欄ですので，決して記入しないでください．
解答欄に符号\((+, -)\)がある場合，正の数は\(+\)，負の数は\(-\)を忘れずにマークすること．
また，解答の数値が2桁の場合は，上が「十の位」，下が「一の位」です．

\vspace{1ex}
\hrulefill
\vspace{1ex}

%%% ヘッダー終了 %%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\shufflegroup{det1_3}
\insertgroup[1]{det1_3}

\shufflegroup{det2_4}
\insertgroup[1]{det2_4}

\shufflegroup{det1_4}
\insertgroup[1]{det1_4}

} %end of \onecopy{}
\end{document}

